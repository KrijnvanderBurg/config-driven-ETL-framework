{
    "alert": {
        "channels": [
            {
                "id": "alert-operations-team",
                "description": "",
                "enabled": true,
                "channel_type": "email",
                "smtp_server": "smtp.company.com",
                "smtp_port": 587,
                "username": "username",
                "password": "password",
                "from_email": "etl-alerts@company.com",
                "to_emails": [
                    "ops@company.com",
                    "data-team@company.com"
                ]
            },
            {
                "id": "alert-data-team-on-slack",
                "description": "",
                "enabled": true,
                "channel_type": "http",
                "url": "https://.slack.com",
                "method": "POST",
                "headers": {
                    "Content-Type": "application/json"
                },
                "timeout": 30,
                "retry": {
                    "max_attempts": 3,
                    "delay_in_seconds": 30
                }       
            }
        ],
        "triggers": [
            {
                "id": "production-external-errors",
                "description": "",
                "enabled": true,
                "channel_ids": ["alert-operations-team", "alert-data-team-on-slack"],
                "template": {
                    "prepend_title": "ETL Pipeline Alert - ",
                    "append_title": " - Team XYZ",
                    "prepend_body": "Attention: ETL Pipeline Alert",
                    "append_body": "Please take necessary actions."
                },
                "rules": [
                    {"rule_type": "env_vars_matches", "env_var_name": "ENVIRONMENT", "env_var_values": ["production"]},
                ]
            },  
            {
                "id": "dev-warnings",
                "description": "",
                "enabled": true,
                "channel_ids": ["a-http-post-alert-name"],
                "template": {
                    "prepend_title": "",
                    "append_title": "",
                    "prepend_body": "",
                    "append_body": ""
                },
                "rules": [
                    {"rule_type": "exception_regex", "pattern": "validation|connection|database" },
                    {"rule_type": "env_vars_matches", "env_var_name": "ENVIRONMENT", "env_var_values": ["development", "acceptance"]},
                    {"rule_type": "env_vars_matches", "env_var_name": "APP_MODE", "env_var_values": ["live"]}
                ]
            }
        ]
    }
}
